import React, { Component } from "react";
import {
  Card,
  Button,
  TextField,
  Grid,
  Typography,
  Container,
  Snackbar,
  CardContent,
  Divider,
  Form,
  Label,
} from "@mui/material";
import { Link, Navigate, useNavigate } from "react-router-dom";
import { Root, Header, Nav, Content, Footer, presets } from "mui-layout";

import APIService from "../../Service/APIService";
export default class Home extends Component {
  constructor(props) {
    super(props);
    this.onChangeUsername = this.onChangeUsername.bind(this);
    this.onChangePassword = this.onChangePassword.bind(this);
    this.state = {
      username: "",
      password: "",
    };
  }

  onChangeUsername = (event) => {
    this.setState({ username: event.target.value });
  };

  onChangePassword = (event) => {
    this.setState({ password: event.target.value });
  };

  handleLogin = (event) => {
    APIService.login(this.state.username, this.state.password);
  };

  render() {
    return (
      <div>
        <Card
          sx={{
            // marginTop: 10,
            borderRadius: 5,
            border: 1,
            width: "600px",
            // height: "300px",
            paddingLeft: ".75rem",
            paddingRight: ".75rem",
            marginLeft: "auto",
            marginRight: "auto",
            float: "center",
            // display: "flex",
            textAlign: "center",
            overflow: "hidden",
            maxWidth: "100%",
          }}
        >
          <CardContent>
            <Container sx={{ p: 2 }} maxWidth="sm">
              <div>
                <Typography
                  component="h1"
                  variant="h5"
                  sx={{ textAlign: "center" }}
                >
                  กรุณาเข้าสู่ระบบ
                </Typography>
                <form>
                  <Grid container sx={{ pt: 2 }} spacing={2}>
                    <Grid item xs={12}>
                      <TextField
                        type="text"
                        variant="outlined"
                        required
                        fullWidth
                        initialValues={{
                          remember: true,
                        }}
                        autoComplete="off"
                        id="username"
                        label="Username"
                        value={this.state.username}
                        onChange={this.onChangeUsername}
                      />
                    </Grid>
                    <Grid item xs={12}>
                      <TextField
                        type="password"
                        variant="outlined"
                        required
                        fullWidth
                        id="password"
                        label="Password"
                        value={this.state.password}
                        // onFinish={onFinish}
                        onChange={this.onChangePassword}
                      />
                    </Grid>
                    <Grid item xs={12} sx={{ textAlign: "center" }}>
                      <Button
                        variant="contained"
                        color="primary"
                        // loading={lodadings[0]}
                        // onClick={() => enterLoading(0)}
                        type="success"
                        htmlType="submit"
                        sx={{ width: 300 }}
                        onClick={this.handleLogin}
                      >
                        เข้าสู่ระบบ
                      </Button>
                    </Grid>
                    <Grid>
                      <Typography
                        // component="h1"
                        // variant="h7"
                        component={Link}
                        to="/"
                        // style={{ marginTop: 30, width: "95%" }}
                        sx={{
                          float: "center",
                          marginTop: 4,
                          textDecoration: "none",
                        }}
                        // href="/"
                      >
                        ลืมรหัสผ่าน
                      </Typography>
                    </Grid>
                  </Grid>
                </form>
              </div>
            </Container>
          </CardContent>
        </Card>
      </div>
    );
  }
}
